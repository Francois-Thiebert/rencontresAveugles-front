<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-thumbnail *ngIf="compteur > 30; else autreImage">
      <img class="img" alt="photo_correspondant" src="{{photo_correspondant_url}}" />
    </ion-thumbnail>
    <ng-template #autreImage>
      <ion-thumbnail>
        <img class="img" alt="mystere" src="assets/images/mystere.jpg" />
      </ion-thumbnail>
    </ng-template>
    <ion-title>{{ prenom_distant }}</ion-title>
  </ion-toolbar>
</ion-header>

<div class="container">

<ion-content [fullscreen]="true" class="messages" (ionScrollEnd)="scrollToBottom()">
  <ion-list>
    <ion-item *ngFor="let m of messages">
      <ion-card [ngClass]="{'envoi': m.emetteur!.id === user_local.id, 'recu': m.emetteur!.id === user_distant.id}">
        <ion-card-content>
          {{ m.contenu }}
        </ion-card-content>
      </ion-card>
    </ion-item>
  </ion-list>
</ion-content>


<ion-content class="redaction">
  <ion-item>
    <ion-input class="input" placeholder="nouveau message" [(ngModel)]="contenu">
    </ion-input>
  </ion-item>
  <ion-button class="envoi" expand="full" color="primary" (click)="envoi()" ><ion-icon name="send-outline"></ion-icon></ion-button>
</ion-content>

</div>
